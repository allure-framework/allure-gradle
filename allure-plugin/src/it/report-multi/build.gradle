plugins {
    id 'io.qameta.allure-aggregate-report'
}

// By default, aggregate-report aggregates allprojects (current + subprojects)
// For this IT, aggregate only :module1 and :module2 (exclude :module3 which has no data)
configurations.allureAggregateReport.dependencies.clear()
dependencies {
    allureAggregateReport(project(":module1"))
    allureAggregateReport(project(":module2"))
}

// Alternative example:
// dependencies { allureAggregateReport(project(":module3")) }

// allure-aggregate-report requires allure-commandline, so we need a repository here
repositories {
    mavenCentral()
}
